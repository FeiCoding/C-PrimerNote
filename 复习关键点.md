# 复习关键点整理

## chapter 2

1. 取模定义

   > 对于整数a，b来说，取模运算或者求余运算的方法要分如下两步：  
   > 1.求整数商：c=a/b  
   > 2.计算模或者余数：r=a-(c*b)  
   > 求模运算和求余运算在第一步不同  
   > 取余运算在计算商值向0方向舍弃小数位  
   > 取模运算在计算商值向负无穷方向舍弃小数位  
   > 例如：4/\(-3\)约等于-1.3  
   > 在取余运算时候商值向0方向舍弃小数位为-1  
   > 在取模运算时商值向负无穷方向舍弃小数位为-2  
   > 所以  
   > 4rem\(-3\)=1  
   > 4mod\(-3\)=-2

1. 当使用列表初始化且初始值存在丢失信息的风险，编译器会报错。

1. 函数内部如果初始化一个extern关键字标记的变量将引发错误（不能在函数体内使用extern）

1. c++标志符：
   * 必须以字母或下划线开头（定义在函数体外的标识符不能以下划线开头）
   * 对大小写敏感
   * 不能使用c++保留字
   * 不能连续出现两个下划线
   * 不能以下划线连接大写字母开头

1. 我们不能直接操作void\*指针所指的对象，因为我们并不知道这个对象到底是什么类型，也无法知道在这个对象上做哪些操作

1. 大部分情况下所有引用类型都必须和与之绑定的对象严格匹配，**引用只能绑定在对象上，而不能与字面值或某个表达式的计算结果绑定在一起。**

1. 指针的类型都要和他所指的对象严格匹配。

1. 如果用一个对象**去初始化另一个对象**，则他们**是不是const都无关紧要** 

1. 如果想在多个文件之间共享const对象，则必须在变量的定义之前添加extern关键字

1. 常量对象只能用常量引用来引用它,而不能使用一般引用

1. **constexpr只能将指针声明成const，而对该指针指向的对象无影响**。(也就是说constexpr是定义一个顶层const)，此时constexpr指针既可以指向常量又可以指向非常量。

    ```cpp
     const int *ptr = nullptr; // 指向常量的指针
     constexpr int *ptr2 = nullptr; // 常量指针，指针本身是常量
    ```

1. auto类型说明符，能让编译器代替我们去分析表达式所属的类型。auto让编译器通过初始值来推算变量的类型，所以**auto定义的变量必须有初始值**。

1. auto会忽略掉顶层const，同时底层const则会保留下来，比如当初始值是一个指向常量的指针时。

1. 如果希望推断出的auto类型是一个顶层const，必须在前面加上const（const auto）

1. 使用引用实际是初始化引用对象的值，因此编译器会以引用对象的类型作为auto类型。如果想将引用的类型设置为auto，则在变量之前加上& (auto &i = a)

1. decltype处理顶层const和引用的方式与auto不同，decltype会返回变量的类型包括顶层const和引用在内

1. decltype和auto的区别：
   * 处理顶层const和引用的方式不同，auto会忽略顶层const，对于引用返回引用对象类型，而decltype不会忽视，对于引用直接返回引用类型）
   * decltype直接跟上变量则直接返回变量类型，如果decltype加上一或多层括号则会将该变量视为表达式（**decltype的双括号结果永远视为引用**）

     ```cpp
       int i = 1;
       decltype((i)) d; // 双括号，类型为int&
       decltype(i) e; // 类型为int
     ```

## chapter 3

1. string 的成员函数 size\(\)返回的并不是一个 int 或 unsigned，而是 string::size_type 类型的值。size_type 是一种无符号类型的值而且能足够存放下任何 string 对象的大小。所有用于存放 string 类的 size 函数返回值的变量，都应该是 string::size_type 类型的。

1. 由于 size 函数返回的是一个无符号整型数，所以此时如果混用带符号的类型数可能会产生意想不到的后果。

1. 数组维度说明了数组中元素的个数，因此必须大于 0，数组元素的个数也属于数组类型的一部分，编译的时候维度应该是一致的，也就是说，**维度必须是一个常量表达式**：

1. 字符数组的特殊性：使用**字符串字面值**来初始化字符数组时，一定要注意字符串字面值的结尾处还有一个空字符。

   ```cpp
    char a1[] = {'c', '+', '+'}; // 列表初始化，没有空字符
    char a2[] = {'c', '+', '+', '\0'}; // 列表初始化，含有显示的空字符
    char a3[] = "c++"; // 自动添加字符串结束的空字符
    char a4[5] = "Hello"; // 错误，应当设置维度为6来存放额外的‘\0’
   ```

1. 使用数组的时候，编译器一般会把它转换成指针。**当使用数组作为一个 auto 变量的初始值时，推断得到的类型是指针而非数组。**

1. 